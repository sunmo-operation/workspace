<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>스톱워치</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 min-h-screen flex items-center justify-center">

    <!-- 카드 컨테이너 -->
    <div class="bg-white rounded-2xl shadow-lg p-10 text-center">

        <h1 class="text-2xl font-bold text-gray-700 mb-6">스톱워치</h1>

        <!-- 시간 표시 영역 -->
        <div id="display" class="text-6xl font-mono font-bold text-blue-600 mb-8">
            00:00:00
        </div>

        <!-- 버튼 영역 -->
        <div class="flex gap-4 justify-center">
            <button
                id="startBtn"
                onclick="toggleStart()"
                class="px-8 py-3 bg-blue-500 text-white text-lg font-bold rounded-lg
                       hover:bg-blue-600 active:bg-blue-700 transition"
            >
                시작
            </button>
            <button
                onclick="resetTimer()"
                class="px-8 py-3 bg-blue-300 text-white text-lg font-bold rounded-lg
                       hover:bg-blue-400 active:bg-blue-500 transition"
            >
                리셋
            </button>
        </div>
    </div>

    <script>
        let elapsed = 0;       // 경과 시간 (밀리초 단위)
        let timerId = null;    // setInterval의 ID (정지할 때 필요)
        let running = false;   // 현재 동작 중인지 여부

        // 시작/일시정지를 토글하는 함수
        function toggleStart() {
            if (running) {
                pause();
            } else {
                start();
            }
        }

        // 타이머를 시작하는 함수 — 10ms마다 시간을 갱신
        function start() {
            running = true;
            document.getElementById('startBtn').textContent = '일시정지';

            const startTime = Date.now() - elapsed;

            timerId = setInterval(function () {
                elapsed = Date.now() - startTime;
                updateDisplay();
            }, 10);
        }

        // 타이머를 일시정지하는 함수
        function pause() {
            running = false;
            clearInterval(timerId);
            document.getElementById('startBtn').textContent = '시작';
        }

        // 타이머를 초기화하는 함수
        function resetTimer() {
            pause();
            elapsed = 0;
            updateDisplay();
        }

        // 밀리초를 00:00:00 형식으로 변환하여 화면에 표시하는 함수
        function updateDisplay() {
            // 1단계: 밀리초에서 분, 초, 센티초를 각각 추출
            const mins = Math.floor(elapsed / 60000);
            const secs = Math.floor((elapsed % 60000) / 1000);
            const centis = Math.floor((elapsed % 1000) / 10);

            // 2단계: 한 자릿수일 때 앞에 0을 붙여 두 자리로 맞춤
            const display = [mins, secs, centis]
                .map(n => String(n).padStart(2, '0'))
                .join(':');

            document.getElementById('display').textContent = display;
        }
    </script>

</body>
</html>
